# 比特币数据结构

## 哈希指针

- 定义: 存储地址和哈希值
- 优势: 检测篡改
- 应用: 区块链和默克尔树

## 区块链

- 结构: 使用哈希指针的链表
- 组成:
  - 创世区块
  - 最新区块
  - 中间区块
- 特点: 防篡改
- 验证方法:
  - 请求区块
  - 计算哈希值
  - 比对验证

## 默克尔树 (Merkle Tree)

- 定义: 使用哈希指针的二叉树
- 结构:
  - 叶子节点: 数据块/交易
  - 中间节点: 哈希指针
  - 根节点: 根哈希值
- 构建过程
- 优势:
  - 高效验证
  - 快速更新

### 在比特币中的应用

- 默克尔证明
- 区块结构:
  - 区块头: 包含根哈希值
  - 区块体: 交易列表

## 节点类型

- 全节点:
  - 存储完整数据
  - 独立验证能力
  - 资源消耗大
- 轻节点 (SPV 节点):
  - 仅存储区块头
  - 使用默克尔证明验证
  - 资源消耗小

## 默克尔证明

- 定义: 证明交易存在的方法
- 过程:
  - 轻节点请求
  - 全节点提供路径
  - 轻节点验证
- 优势:
  - 高效 O(log n)
  - 节省空间
  - 保护隐私

## 其他特性

- 未排序 vs 有序默克尔树
- 哈希指针的适用范围
- 哈希值的不可篡改性
